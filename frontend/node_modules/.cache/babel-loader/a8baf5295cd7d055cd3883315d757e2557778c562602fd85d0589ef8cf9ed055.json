{"ast":null,"code":"import _objectSpread from\"E:/Sarin/dairy-farm-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const API_BASE_URL='http://localhost:5000/api';// Helper function to make API calls\nconst apiCall=async function(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};try{const response=await fetch(\"\".concat(API_BASE_URL).concat(endpoint),_objectSpread({headers:_objectSpread({'Content-Type':'application/json'},options.headers)},options));const data=await response.json();if(!response.ok){throw new Error(data.message||'Something went wrong');}return data;}catch(error){throw error;}};// Auth API calls\nexport const authAPI={// Register a new user\nregister:async userData=>{return apiCall('/auth/register',{method:'POST',body:JSON.stringify(userData)});},// Login user\nlogin:async credentials=>{return apiCall('/auth/login',{method:'POST',body:JSON.stringify(credentials)});},// Update user profile\nupdateProfile:async profileData=>{const token=localStorage.getItem('token');return apiCall('/auth/profile',{method:'PUT',headers:{Authorization:\"Bearer \".concat(token)},body:JSON.stringify(profileData)});},// Change password\nchangePassword:async passwordData=>{const token=localStorage.getItem('token');return apiCall('/auth/change-password',{method:'PUT',headers:{Authorization:\"Bearer \".concat(token)},body:JSON.stringify(passwordData)});},// Get user profile\ngetProfile:async()=>{const token=localStorage.getItem('token');return apiCall('/auth/profile',{headers:{Authorization:\"Bearer \".concat(token)}});}};// User API calls\nexport const userAPI={// Get user profile\ngetProfile:async token=>{return apiCall('/auth/profile',{headers:{Authorization:\"Bearer \".concat(token)}});}};export default apiCall;","map":{"version":3,"names":["API_BASE_URL","apiCall","endpoint","options","arguments","length","undefined","response","fetch","concat","_objectSpread","headers","data","json","ok","Error","message","error","authAPI","register","userData","method","body","JSON","stringify","login","credentials","updateProfile","profileData","token","localStorage","getItem","Authorization","changePassword","passwordData","getProfile","userAPI"],"sources":["E:/Sarin/dairy-farm-app/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:5000/api';\r\n\r\n// Helper function to make API calls\r\nconst apiCall = async (endpoint, options = {}) => {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    if (!response.ok) {\r\n      throw new Error(data.message || 'Something went wrong');\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Auth API calls\r\nexport const authAPI = {\r\n  // Register a new user\r\n  register: async (userData) => {\r\n    return apiCall('/auth/register', {\r\n      method: 'POST',\r\n      body: JSON.stringify(userData),\r\n    });\r\n  },\r\n\r\n  // Login user\r\n  login: async (credentials) => {\r\n    return apiCall('/auth/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify(credentials),\r\n    });\r\n  },\r\n\r\n  // Update user profile\r\n  updateProfile: async (profileData) => {\r\n    const token = localStorage.getItem('token');\r\n    return apiCall('/auth/profile', {\r\n      method: 'PUT',\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(profileData),\r\n    });\r\n  },\r\n\r\n  // Change password\r\n  changePassword: async (passwordData) => {\r\n    const token = localStorage.getItem('token');\r\n    return apiCall('/auth/change-password', {\r\n      method: 'PUT',\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(passwordData),\r\n    });\r\n  },\r\n\r\n  // Get user profile\r\n  getProfile: async () => {\r\n    const token = localStorage.getItem('token');\r\n    return apiCall('/auth/profile', {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  },\r\n};\r\n\r\n// User API calls\r\nexport const userAPI = {\r\n  // Get user profile\r\n  getProfile: async (token) => {\r\n    return apiCall('/auth/profile', {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  },\r\n};\r\n\r\nexport default apiCall;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}